

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>iot Connecting with Other Devices &mdash; GrowThings 0.1 documentation</title>
  

  
  
  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  

  
        <link rel="index" title="Index"
              href="genindex.html"/>
        <link rel="search" title="Search" href="search.html"/>
    <link rel="top" title="GrowThings 0.1 documentation" href="index.html"/>
        <link rel="up" title="API Reference" href="api.html"/>
        <link rel="prev" title="displays - Working with Screens and LEDs" href="displays.html"/> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html" class="icon icon-home"> GrowThings
          

          
          </a>

          
            
            
              <div class="version">
                0.1
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="intro.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="install.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="guide.html">Quickstart Guide</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="api.html">API Reference</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="sensors.html"><code class="docutils literal"><span class="pre">sensors</span></code> - Working with Sensors</a></li>
<li class="toctree-l2"><a class="reference internal" href="actuators.html"><code class="docutils literal"><span class="pre">actuators</span></code> - Working with Actuators</a></li>
<li class="toctree-l2"><a class="reference internal" href="displays.html"><code class="docutils literal"><span class="pre">displays</span></code> - Working with Screens and LEDs</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#"><code class="docutils literal"><span class="pre">iot</span></code> Connecting with Other Devices</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#wifi">WiFi</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#example">Example:</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#node-red">Node-RED</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id2">Example:</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">GrowThings</a>
        
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
          <li><a href="api.html">API Reference</a> &raquo;</li>
        
      <li><code class="docutils literal"><span class="pre">iot</span></code> Connecting with Other Devices</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/iot.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="iot-connecting-with-other-devices">
<h1><code class="xref py py-mod docutils literal"><span class="pre">iot</span></code> Connecting with Other Devices<a class="headerlink" href="#iot-connecting-with-other-devices" title="Permalink to this headline">¶</a></h1>
<p>The <code class="xref py py-mod docutils literal"><span class="pre">iot</span></code> module provides a collection of classes to connect to WiFi and exchange data with other devices, such as Raspberry Pis.</p>
<div class="section" id="wifi">
<span id="id1"></span><h2>WiFi<a class="headerlink" href="#wifi" title="Permalink to this headline">¶</a></h2>
<p>This class can be used to connect the Wio Link board to WiFi.</p>
<dl class="class">
<dt id="iot.WiFi">
<em class="property">class </em><code class="descclassname">iot.</code><code class="descname">WiFi</code><span class="sig-paren">(</span><em>ssid</em>, <em>password</em><span class="sig-paren">)</span><a class="headerlink" href="#iot.WiFi" title="Permalink to this definition">¶</a></dt>
<dd><p>Stores the WiFi <code class="docutils literal"><span class="pre">ssid</span></code> and <code class="docutils literal"><span class="pre">password</span></code>, so when the <code class="docutils literal"><span class="pre">connect()</span></code> method is called, the Wio Link board will connect to the specified WiFi <code class="docutils literal"><span class="pre">ssid</span></code> with the <code class="docutils literal"><span class="pre">password</span></code>.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">After WiFi is successfully connected, the Wio Link board will attempt to access the same WiFi at each subsequent boot. You can click the “Soft Reset” button to get the terminal to work again.</p>
</div>
<dl class="method">
<dt id="iot.WiFi.WiFi.connect">
<code class="descclassname">WiFi.</code><code class="descname">connect</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#iot.WiFi.WiFi.connect" title="Permalink to this definition">¶</a></dt>
<dd><p>When the <code class="docutils literal"><span class="pre">connect()</span></code> method is called, the Wio Link board will connect to the specified WiFi <code class="docutils literal"><span class="pre">ssid</span></code> with the <code class="docutils literal"><span class="pre">password</span></code> specified when object is created.</p>
</dd></dl>

</dd></dl>

<div class="section" id="example">
<h3>Example:<a class="headerlink" href="#example" title="Permalink to this headline">¶</a></h3>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="c1"># Connects to a WiFi access point</span>
<span class="c1"># with SSID starbucks</span>
<span class="c1"># and Password 12345678</span>

<span class="kn">from</span> <span class="nn">iot</span> <span class="kn">import</span> <span class="n">WiFi</span>
<span class="n">wifi</span> <span class="o">=</span> <span class="n">WiFi</span><span class="p">(</span><span class="n">ssid</span><span class="o">=</span><span class="s2">&quot;starbucks&quot;</span><span class="p">,</span> <span class="n">password</span><span class="o">=</span><span class="s2">&quot;12345678&quot;</span><span class="p">)</span>
<span class="n">wifi</span><span class="o">.</span><span class="n">connect</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="node-red">
<span id="nodered"></span><h2>Node-RED<a class="headerlink" href="#node-red" title="Permalink to this headline">¶</a></h2>
<p>This class can be used to send data to any device that runs Node-RED, such as Raspberry Pis, or even a Node-RED instance running on the cloud, provided the IP address of the hosting machine is known.</p>
<dl class="class">
<dt id="iot.NodeRed">
<em class="property">class </em><code class="descclassname">iot.</code><code class="descname">NodeRed</code><span class="sig-paren">(</span><em>ip</em><span class="optional">[</span>, <em>port=1880</em><span class="optional">]</span><span class="sig-paren">)</span><a class="headerlink" href="#iot.NodeRed" title="Permalink to this definition">¶</a></dt>
<dd><p>Stores the <code class="docutils literal"><span class="pre">ip</span></code> address of the machine running Node-RED. If Node-RED runs on a different <code class="docutils literal"><span class="pre">port</span></code> than <code class="docutils literal"><span class="pre">1880</span></code>, the <code class="docutils literal"><span class="pre">port</span></code> parameter can be used to specify the port.</p>
<dl class="method">
<dt id="iot.NodeRed.NodeRed.send_http">
<code class="descclassname">NodeRed.</code><code class="descname">send_http</code><span class="sig-paren">(</span><em>url</em>, <em>data</em><span class="sig-paren">)</span><a class="headerlink" href="#iot.NodeRed.NodeRed.send_http" title="Permalink to this definition">¶</a></dt>
<dd><p>Send the specified <code class="docutils literal"><span class="pre">data</span></code> to the http-in node in the Node-RED flow. the <code class="docutils literal"><span class="pre">url</span></code> parameter needs to be exactly the same as the <code class="docutils literal"><span class="pre">URL</span></code> field of the http-in node (shown below). <code class="docutils literal"><span class="pre">data</span></code> can either be a number, a string, or a dictionary.</p>
<img alt="_images/node_red_http.png" src="_images/node_red_http.png" />
</dd></dl>

</dd></dl>

<div class="section" id="id2">
<h3>Example:<a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h3>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="c1"># Connects to a WiFi access point</span>
<span class="c1"># with SSID starbucks</span>
<span class="c1"># and Password 12345678</span>

<span class="kn">from</span> <span class="nn">iot</span> <span class="kn">import</span> <span class="n">WiFi</span><span class="p">,</span> <span class="n">NodeRed</span>
<span class="kn">from</span> <span class="nn">sensors</span> <span class="kn">import</span> <span class="n">TemperatureSensor</span>
<span class="kn">import</span> <span class="nn">time</span>

<span class="n">wifi</span> <span class="o">=</span> <span class="n">WiFi</span><span class="p">(</span><span class="n">ssid</span><span class="o">=</span><span class="s2">&quot;starbucks&quot;</span><span class="p">,</span> <span class="n">password</span><span class="o">=</span><span class="s2">&quot;12345678&quot;</span><span class="p">)</span>
<span class="n">wifi</span><span class="o">.</span><span class="n">connect</span><span class="p">()</span>

<span class="c1"># Temperature Sensor is connected to Port 3</span>
<span class="n">temp_sensor</span> <span class="o">=</span> <span class="n">TemperatureSensor</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>

<span class="c1"># Node-RED is hosted on a machine with IP 192.168.1.123</span>
<span class="c1"># It has a http in node configured with URL /test</span>

<span class="n">node</span> <span class="o">=</span> <span class="n">NodeRed</span><span class="p">(</span><span class="n">ip</span><span class="o">=</span><span class="s2">&quot;192.168.1.123&quot;</span><span class="p">)</span>

<span class="c1"># Sends temperature and humidity data to Node-RED every 10 seconds</span>

<span class="k">while</span> <span class="bp">True</span><span class="p">:</span>
    <span class="n">t</span> <span class="o">=</span> <span class="n">temp_sensor</span><span class="o">.</span><span class="n">get_temperature</span><span class="p">()</span>
    <span class="n">h</span> <span class="o">=</span> <span class="n">temp_sensor</span><span class="o">.</span><span class="n">get_humidity</span><span class="p">()</span>

    <span class="n">data_dict</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s2">&quot;temperature&quot;</span><span class="p">:</span> <span class="n">t</span><span class="p">,</span>
        <span class="s2">&quot;humidity&quot;</span><span class="p">:</span> <span class="n">h</span>
    <span class="p">}</span>

    <span class="n">node</span><span class="o">.</span><span class="n">send_http</span><span class="p">(</span><span class="n">url</span><span class="o">=</span><span class="s2">&quot;/test&quot;</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">data_dict</span><span class="p">)</span>
    <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</div>


           </div>
           <div class="articleComments">
            
           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
      
        <a href="displays.html" class="btn btn-neutral" title="displays - Working with Screens and LEDs" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2018, Paul Xu.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'0.1',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>
      <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>